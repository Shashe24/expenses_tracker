{% extends "tracker_app/base.html" %}
{% block title %}Monthly Summary{% endblock %}

{% block content %}
<h2>Monthly Summary ({{ month }}/{{ year }})</h2>

<p><strong>Total Spent:</strong> {{ total }}</p>

<h3>By Category</h3>
<ul>
    {% for item in by_category %}
    <li>{{ item.category__name }} â€” {{ item.sum }}</li>
    {% empty %}
    <li>No expenses this month.</li>
    {% endfor %}
</ul>

<h3>All Expenses</h3>
<table class="table">
    <thead>
        <tr>
            <th>Date</th>
            <th>Title</th>
            <th>Category</th>
            <th>Amount</th>
        </tr>
    </thead>
    <tbody>
        {% for exp in expenses %}
        <tr>
            <td>{{ exp.date }}</td>
            <td>{{ exp.title }}</td>
            <td>{{ exp.category.name }}</td>
            <td>{{ exp.amount }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">No data available.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}